---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getProductByCode } from '../../data/products';

const product = getProductByCode('macca')!;

const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'Product',
  name: product.name,
  image: `https://riofarm.vn${product.image}`,
  description: product.description,
  brand: {
    '@type': 'Brand',
    name: 'Rio Farm',
  },
  offers: {
    '@type': 'Offer',
    price: product.price,
    priceCurrency: 'VND',
    availability: 'https://schema.org/InStock',
    seller: {
      '@type': 'Organization',
      name: 'Rio Farm',
    },
  },
};
---

<BaseLayout
  title="H·∫°t macadamia s·∫•y cao c·∫•p | Rio Farm"
  description="H·∫°t macadamia s·∫•y cao c·∫•p Rio Macca - Ngu·ªìn g·ªëc L√¢m H√†, L√¢m ƒê·ªìng. ƒê√≥ng g√≥i h√∫t ch√¢n kh√¥ng, gi·ªØ nguy√™n h∆∞∆°ng v·ªã v√† d∆∞·ª°ng ch·∫•t."
  canonical="https://riofarm.vn/product/macca"
  ogType="product"
  ogImage={product.image}
  jsonLd={jsonLd}
>
  <div class="container-large product-shell">
    <!-- Breadcrumbs -->
    <nav class="breadcrumbs" aria-label="Breadcrumb">
      <a href="/">Trang ch·ªß</a><span>‚Ä∫</span>
      <span>{product.name}</span>
    </nav>

    <div class="product-content">
      <!-- Gallery -->
      <div>
        <div class="gallery-grid">
          <div class="gallery-main">
            <img
              src={product.gallery[0].image}
              alt={product.gallery[0].alt}
              style="width:100%;border-radius:12px;aspect-ratio:4/3;object-fit:cover;"
              loading="eager"
              id="main-product-img"
            />
          </div>
          {product.gallery.slice(1).map((img) => (
            <img
              src={img.image}
              alt={img.alt}
              style="width:100%;border-radius:8px;aspect-ratio:1;object-fit:cover;cursor:pointer;"
              loading="lazy"
              class="gallery-thumb"
            />
          ))}
        </div>
      </div>

      <!-- Details -->
      <div>
        <h1 class="product-name" id="product-name">{product.name}</h1>
        <p class="product-vendor">b·ªüi <strong>{product.vendor}</strong></p>

        <div id="product-price-label" class="product-price-label">
          Li√™n h·ªá
        </div>

        <p class="product-copy">{product.description}</p>

        <!-- Nutrition & Detail Section -->
        <div style="margin:1.5rem 0;border:1px solid #eee;border-radius:10px;overflow:hidden;font-size:0.9rem;">
          <div style="background:var(--gold);padding:0.6rem 1rem;">
            <strong>Th√¥ng tin dinh d∆∞·ª°ng</strong> <span style="font-weight:400;font-size:0.8rem;">(per 28g)</span>
          </div>
          <table style="width:100%;border-collapse:collapse;">
            <tbody>
              {[
                ['NƒÉng l∆∞·ª£ng', '204 kcal'],
                ['Ch·∫•t b√©o t·ªïng', '21.5 g'],
                ['‚Äî Ch·∫•t b√©o kh√¥ng b√£o h√≤a ƒë∆°n (MUFA)', '16.7 g'],
                ['Carbohydrate', '3.9 g'],
                ['Ch·∫•t x∆°', '2.4 g'],
                ['Protein', '2.2 g'],
                ['Magi√™', '33 mg'],
                ['Mangan', '1.2 mg (52% DV)'],
                ['Thiamine (B1)', '0.3 mg (25% DV)'],
                ['ƒê·ªìng', '0.2 mg (22% DV)'],
              ].map(([label, value], i) => (
                <tr style={`background:${i % 2 === 0 ? '#fafafa' : '#fff'};`}>
                  <td style="padding:0.45rem 1rem;color:#444;">{label}</td>
                  <td style="padding:0.45rem 1rem;text-align:right;font-weight:600;">{value}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>

        <!-- Key Benefits -->
        <ul style="margin:1rem 0 1.5rem;padding-left:1.25rem;line-height:2;font-size:0.9rem;color:#444;">
          <li>ü´Ä Ch·ª©a nhi·ªÅu MUFA nh·∫•t trong c√°c lo·∫°i h·∫°t ‚Äî h·ªó tr·ª£ tim m·∫°ch v√† gi·∫£m cholesterol x·∫•u</li>
          <li>üß† Gi√†u thiamine (B1) ‚Äî quan tr·ªçng cho ch·ª©c nƒÉng n√£o b·ªô v√† h·ªá th·∫ßn kinh</li>
          <li>ü¶¥ Cung c·∫•p mangan v√† magi√™ ‚Äî t·ªët cho x∆∞∆°ng v√† c∆° b·∫Øp</li>
          <li>‚öñÔ∏è No l√¢u, √≠t carb ‚Äî th√≠ch h·ª£p cho ch·∫ø ƒë·ªô ƒÉn keto v√† low-carb</li>
          <li>üåø H∆∞∆°ng v·ªã b∆° t·ª± nhi√™n ƒë·∫∑c tr∆∞ng ‚Äî th∆°m ngon, d·ªÖ ƒÉn, kh√¥ng c·∫ßn ch·∫ø bi·∫øn</li>
        </ul>

        <div style="margin-bottom:1rem;">
          <label for="qty" class="product-qty-label">S·ªë l∆∞·ª£ng</label>
          <input id="qty" type="number" min="1" value="1" class="product-qty-input" />
        </div>

        <div class="product-actions">
          <button id="add-to-cart" class="btn-secondary" style="width:100%;">Th√™m v√†o gi·ªè</button>
          <button id="buy-now" class="btn-primary" style="width:100%;">Mua ngay</button>
        </div>
        <p id="cart-feedback" style="font-size:0.9rem;color:var(--gold-dark);margin-top:0.75rem;"></p>
      </div>
    </div>

    <!-- Long description -->
    <div class="blog-content" style="max-width:860px;margin:3rem auto 0;">
      <h2>H·∫°t m·∫Øc ca l√† g√¨?</h2>
      <p>
        H·∫°t m·∫Øc ca (t√™n ti·∫øng Anh: macadamia) l·∫•y t·ª´ c√¢y m·∫Øc ca, lo·∫°i
        c√¢y nhi·ªát ƒë·ªõi b·∫£n ƒë·ªãa ·ªü √öc. H·∫°t m·∫Øc ca c√≤n c√≥ m·ªôt s·ªë t√™n g·ªçi
        ph·ªï bi·∫øn h∆°n l√† h·∫°t Queensland hay h·∫°t c√¢y b·ª•i. V·ªè h·∫°t m·∫Øc ca
        th∆∞·ªùng r·∫•t c·ª©ng, c√≥ ƒë·ªânh nh·ªçn v√† ch·ª©a m·ªôt h·∫°t nh·ªè b√™n trong.
        H·∫°t m·∫Øc ca c√≥ gi√° tr·ªã dinh d∆∞·ª°ng r·∫•t l·ªõn trong th·∫ø gi·ªõi c√°c lo·∫°i h·∫°t,
        trong ƒë√≥ ch·ª©a nhi·ªÅu ƒë·∫°m th·ª±c v·∫≠t, omega 3, omega 6, omega 9 v√† c√≥ h∆°n
        20 lo·∫°i vitamin c√πng kho√°ng ch·∫•t c·∫ßn thi·∫øt cho c∆° th·ªÉ.
      </p>
      <p>
        H·∫°t m·∫Øc ca c√≥ xu·∫•t x·ª© t·ª´ √öc, sau n√†y ƒë∆∞·ª£c tr·ªìng ph·ªï bi·∫øn ·ªü nhi·ªÅu n∆∞·ªõc kh√°c,
        trong ƒë√≥ c√≥ Vi·ªát Nam. Do ƒëi·ªÅu ki·ªán th·ªï nh∆∞·ª°ng v√† kh√≠ h·∫≠u thu·∫≠n l·ª£i n√™n h·∫°t m·∫Øc ca
        L√¢m H√† - L√¢m ƒê·ªìng ƒë·∫°t ch·∫•t l∆∞·ª£ng th∆°m b√©o kh√° cao s√°nh ngang v·ªõi b·∫°n b√® qu·ªëc t·∫ø.
      </p>

      <div style="text-align:center;margin:1.5rem 0;">
        <img src="/products/macca5.jpg" alt="H·∫°t macadamia thu ho·∫°ch t·∫°i Rio Macca" style="max-width:400px;width:100%;border-radius:8px;" loading="lazy" />
      </div>

      <h2>Th√†nh ph·∫ßn dinh d∆∞·ª°ng c·ªßa h·∫°t m·∫Øc ca</h2>
      <p>H·∫°t m·∫Øc ca cung c·∫•p r·∫•t nhi·ªÅu vitamin v√† kho√°ng ch·∫•t thi·∫øt y·∫øu cho c∆° th·ªÉ. Trong 28g h·∫°t m·∫Øc ca c√≥ ch·ª©a t·ªõi 201 calories, 21g ch·∫•t b√©o. Ngo√†i ra, trong h·∫°t c√≤n c√≥:</p>
      <ul style="list-style-type:circle;margin-left:1.2rem;">
        <li>1mg s·∫Øt (6% nhu c·∫ßu h√†ng ng√†y)</li>
        <li>2g protein (4% nhu c·∫ßu h√†ng ng√†y)</li>
        <li>2mg ƒë·ªìng (11% nhu c·∫ßu h√†ng ng√†y)</li>
        <li>4g ch·∫•t x∆° (10% nhu c·∫ßu h√†ng ng√†y)</li>
        <li>37mg magie (9% nhu c·∫ßu h√†ng ng√†y)</li>
        <li>3mg thiamine (23% nhu c·∫ßu h√†ng ng√†y)</li>
        <li>1mg vitamin B6 (4% nhu c·∫ßu h√†ng ng√†y)</li>
      </ul>

      <h2>C√°ch b·∫£o qu·∫£n h·∫°t m·∫Øc ca</h2>
      <p>
        B·∫°n n√™n b·∫£o qu·∫£n h·∫°t m·∫Øc ca ·ªü n∆°i kh√¥ r√°o, tho√°ng m√°t v√† tr√°nh √°nh s√°ng m·∫∑t tr·ªùi tr·ª±c ti·∫øp.
        H·∫°t ch∆∞a x√© b·ªãch th∆∞·ªùng c√≥ th·ªÉ ƒë·ªÉ ƒë∆∞·ª£c kho·∫£ng 6 th√°ng k·ªÉ t·ª´ ng√†y s·∫£n xu·∫•t.
        Sau khi ƒë√£ x√© b·ªãch, b·∫°n n√™n ƒÉn h·∫øt h·∫°t trong v√≤ng 3‚Äì5 ng√†y ho·∫∑c cho v√†o l·ªç k√≠n ƒë·ªÉ t·ªß l·∫°nh ƒÉn trong v√≤ng 2 th√°ng.
      </p>

      <div style="text-align:center;margin:1.5rem 0;">
        <img src="/products/macca6.jpg" alt="D·∫ßu macca do Rio Macca L√¢m H√† s·∫£n xu·∫•t" style="max-width:400px;width:100%;border-radius:8px;" loading="lazy" />
      </div>

      <h2>T√°c d·ª•ng c·ªßa h·∫°t m·∫Øc ca</h2>
      <p>H·∫°t m·∫Øc ca kh√¥ng ch·ªâ h·∫•p d·∫´n v·ªõi h∆∞∆°ng v·ªã b√©o b√πi m√† c√≤n mang ƒë·∫øn nhi·ªÅu l·ª£i √≠ch cho s·ª©c kh·ªèe.</p>

      <p><strong>Gi·∫£m nguy c∆° m·∫Øc b·ªánh tim</strong></p>
      <p>
        Hi·ªáp h·ªôi Tim m·∫°ch Hoa K·ª≥ ƒë∆∞a ra nh·∫≠n ƒë·ªãnh r·∫±ng ƒÉn h·∫°t m·∫Øc ca th∆∞·ªùng xuy√™n c√≥ th·ªÉ gi·∫£m nguy c∆° t·ª≠ vong s·ªõm.
        Axit b√©o ƒë∆°n kh√¥ng b√£o h√≤a trong h·∫°t m·∫Øc ca gi√∫p: h·∫° huy·∫øt √°p, gi·∫£m nhi·ªÖm tr√πng, gi·∫£m n·ªìng ƒë·ªô lipid, v√† tƒÉng c∆∞·ªùng s·ª©c kh·ªèe tim m·∫°ch.
      </p>

      <p><strong>C·∫£i thi·ªán h·ªôi ch·ª©ng ti·ªÉu ƒë∆∞·ªùng</strong></p>
      <p>
        H·ª£p ch·∫•t MUFAs (ch·∫•t b√©o ƒë∆°n kh√¥ng b√£o h√≤a) nh∆∞ trong h·∫°t m·∫Øc ca c√≥ th·ªÉ l√†m gi·∫£m c√°c nguy c∆° m·∫Øc h·ªôi ch·ª©ng chuy·ªÉn h√≥a
        v√† gi·∫£m thi·ªÉu t√°c h·∫°i ·ªü nh·ªØng ng∆∞·ªùi ƒëang m·∫Øc ph·∫£i.
      </p>

      <p><strong>Gi·∫£m nguy c∆° m·∫Øc b·ªánh ung th∆∞</strong></p>
      <p>
        H·∫°t m·∫Øc ca c√≥ ch·ª©a h√†m l∆∞·ª£ng l·ªõn vitamin E d·∫°ng tocotrienols c√≥ kh·∫£ nƒÉng ch·ªëng l·∫°i ung th∆∞.
        Lo·∫°i h·∫°t n√†y c√≤n ch·ª©a h·ª£p ch·∫•t th·ª±c v·∫≠t flavonoid c√≥ th·ªÉ ngƒÉn ng·ª´a ung th∆∞.
      </p>

      <h2>C∆° s·ªü s·∫£n xu·∫•t Rio Macca</h2>
      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1rem;margin:1.5rem 0;">
        <img src="/coso1.jpeg" alt="C∆° s·ªü s·∫£n xu·∫•t Rio Macca 1" style="border-radius:8px;width:100%;aspect-ratio:4/3;object-fit:cover;" loading="lazy" />
        <img src="/coso2.jpeg" alt="C∆° s·ªü s·∫£n xu·∫•t Rio Macca 2" style="border-radius:8px;width:100%;aspect-ratio:4/3;object-fit:cover;" loading="lazy" />
        <img src="/coso3.jpeg" alt="C∆° s·ªü s·∫£n xu·∫•t Rio Macca 3" style="border-radius:8px;width:100%;aspect-ratio:4/3;object-fit:cover;" loading="lazy" />
      </div>
    </div>
    <script type="application/json" id="product-json" set:html={JSON.stringify(product)}></script>
    <script>
      document.querySelectorAll('.gallery-thumb').forEach((thumb) => {
        thumb.addEventListener('click', () => {
          const mainImg = document.getElementById('main-product-img');
          const thumbImg = thumb;
          if (mainImg && thumbImg) {
            mainImg.src = thumbImg.src;
            mainImg.alt = thumbImg.alt;
          }
        });
      });

      const dataEl = document.getElementById('product-json');
      const addBtn = document.getElementById('add-to-cart');
      const buyNowBtn = document.getElementById('buy-now');
      const qtyEl = document.getElementById('qty');
      const feedback = document.getElementById('cart-feedback');
      const productData = dataEl ? JSON.parse(dataEl.textContent || '{}') : null;

      function addToCart(redirectToCheckout = false) {
        if (!window.RioCart || !productData) return;
        const qty = Math.max(1, Number(qtyEl?.value || 1));
        window.RioCart.addToCart(productData, qty);
        if (feedback) feedback.textContent = `ƒê√£ th√™m ${qty} s·∫£n ph·∫©m v√†o gi·ªè h√†ng`;
        if (redirectToCheckout) window.location.href = '/checkout';
      }

      addBtn?.addEventListener('click', () => addToCart(false));
      buyNowBtn?.addEventListener('click', () => addToCart(true));
    </script>
  </div>
</BaseLayout>
