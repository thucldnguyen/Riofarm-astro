---
import type { BlogPost } from '../data/blog';

export interface Props {
  posts: BlogPost[];
  showExcerpt?: boolean;
}

const { posts, showExcerpt = false } = Astro.props;
---

<div class="blog-preview-grid">
  {posts.map((post) => (
    <article class="blog-preview-card">
      <a href={post.link} class="blog-preview-image-link">
        <img
          src={post.image}
          alt={post.alt}
          class="blog-preview-image"
          loading="lazy"
        />
      </a>
      <span class="blog-category">{post.category}</span>
      <h4 class="blog-preview-title">
        <a href={post.link}>{post.title}</a>
      </h4>
      {showExcerpt && <p class="blog-preview-excerpt">{post.excerpt}</p>}
    </article>
  ))}
</div>

<style>
  .blog-preview-card {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .blog-preview-image-link {
    display: block;
    overflow: hidden;
    border-radius: 8px;
    aspect-ratio: 4/3;
  }

  .blog-preview-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.3s;
  }

  .blog-preview-image:hover {
    transform: scale(1.04);
  }

  .blog-category {
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--gold);
  }

  .blog-preview-title {
    font-size: 1.1rem;
    font-weight: 700;
    line-height: 1.4;
  }

  .blog-preview-title a:hover {
    color: var(--gold);
  }

  .blog-preview-excerpt {
    font-size: 0.9rem;
    color: var(--text-secondary);
    line-height: 1.6;
  }
</style>
